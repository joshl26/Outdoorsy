openapi: "3.0.0"
info:
  version: "1.0.0"
  title: "Outdoorsy"
  description: Campground review site
paths:
  /campgrounds:
    get:
      summary: Return all campground records in database
      responses:
        "200":
          description: The list of all campgrounds in the database has been returned
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Campgrounds"
        404:
          description: No campgrounds found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        500:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /spacecrafts/{spacecraftId}:
    parameters:
      - name: spacecraftId
        description: The unique identifier of the spacecraft
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/SpacecraftId"
    get:
      summary: Read a spacecraft
      responses:
        "200":
          description: The spacecraft corresponding to the provided `spacecraftId`
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Spacecraft"
        404:
          description: No spacecraft found for the provided `spacecraftId`
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        500:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
components:
  schemas:
    Campgrounds:
      type: object
      required:
        - title
        - location
        - price
        - description
      properties:
        _id:
          type: string
          format: uuid
          description: The id auto generated by mongoose for the campsite
        geometry:
          type: array
          description: Array of geometry objects
          items:
            type: object
            properties:
              point:
                type: array
                items:
                  type: object
                  properties:
                    co-ordinate:
                      type: number
                      format: float
        title:
          type: string
          description: The title of the campsite
        location:
          type: string
          description: The location of the campsite
        price:
          type: number
          format: float
          description: The price for the campsite
        description:
          type: string
          description: The description of the campsite
        images:
          type: array
          description: Array of image objects
          items:
            type: object
            properties:
              _id:
                type: string
                format: uuid
                description: The id auto generated by mongoose for the campground
              url:
                type: string
                format: uri
                description: The url of the image
              filename:
                type: string
                description: The filename of the image
        reviews:
          type: array
          description: Array of objects review ID's
          items:
            type: object
            properties:
              _id:
                type: string
                format: uuid
                description: The id auto generated by mongoose for the review
        author:
          type: string
          format: uuid
          description: ID of person that created the review
        __v:
          type: number
          format: int32
          description: Version of the campsite review, starting at 0 and incremented by +1 with each change saved
    SpacecraftId:
      description: The unique identifier of a spacecraft
      type: string
    Spacecraft:
      type: object
      required:
        - id
        - name
        - type
      properties:
        id:
          type: string
        name:
          type: string
        type:
          type: string
          enum:
            - capsule
            - probe
            - satellite
            - spaceplane
            - station
        description:
          type: string
    Error:
      type: object
      required:
        - message
      properties:
        message:
          description: A human readable error message
          type: string
  securitySchemes:
    ApiKey:
      type: apiKey
      in: header
      name: X-Api-Key
security:
  - ApiKey: []
